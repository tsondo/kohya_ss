# Contributing to the Tsondo fork of kohya_ss

Thanks for your interest in this fork!  
This project builds on the excellent work of the upstream [kohya_ss](https://github.com/bmaltais/kohya_ss) repository. The goal here is not to diverge from upstream, but to provide a **stable, reproducible environment** and clear build documentation for contributors who need reliability.

---

## Requirements Files

This fork maintains two requirement files:

- **`requirements.txt`**  
  This file is tracked from upstream and may change frequently as the project evolves.  
  Do not edit this file in this fork — it is kept to make it easy to see upstream’s intent.

- **`requirements.tsondo`**  
  This is the pinned, reproducible environment for this fork.  
  Use this file when setting up your environment:

  ```bash
  pip install -r requirements.tsondo
  ```

If you are contributing to this fork, please test against `requirements.tsondo` to ensure reproducibility.

---

## Building xFormers

Instructions for building and installing a reproducible xFormers wheel are documented in [BUILD_XFORMERS.md](BUILD_XFORMERS.md).  
Please follow those steps if you need to rebuild xFormers locally.

---

## Workflow

- **Feature branches**: Create a new branch from `master` for your changes (e.g. `git checkout -b my-feature`).  
- **Commits**: Keep commits focused and descriptive.  
- **Pull requests**: Open PRs against this fork’s `master` branch. If you want to contribute back to upstream, open a PR from your fork to the upstream repo.

---

## Syncing with Upstream

To keep this fork current with upstream:

```bash
git fetch upstream
git checkout master
git merge upstream/master
git push origin master
```

---

## Notes

- Use upstream if you want the latest features and rapid updates.  
- Use this fork if you want a **stable, reproducible training stack**.  
- Full credit goes to the upstream maintainers — this fork simply adds a reproducibility layer and documentation.
